<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal</title>
    <link rel="stylesheet" href="./style/index.css" />
    <link rel="stylesheet" href="./style/home/hero.css" />
    <link rel="stylesheet" href="./style/home/job-list.css" />
    <link rel="stylesheet" href="./style/home/get-start.css" />
    <script
      src="https://kit.fontawesome.com/0eca523b09.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="nav-bar">
      <div>
        <a href="./Index.html">
          <img
            class="logo"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRUsQiplH_OWtHnMb1Nrk31z58OJN009JG-w&usqp=CAU"
            alt="logo"
        /></a>
        <ul>
          <li>
            <a style="color: black" href="./applied.html">Applied Job</a>
          </li>
          <li>
            <a style="color: black" href="./job-list.html">Job List</a>
          </li>
          <ul class="log"></ul>
        </ul>
        <button id="menu">&#9776;</button>
      </div>
    </nav>
    <aside class="m-nav">
      <ul>
        <li>
          <a style="color: black" href="./applied.html">Applied Job</a>
        </li>
        <li>
          <a style="color: black" href="./job-list.html">Job List</a>
        </li>
        <ul class="log"></ul>
      </ul>
    </aside>
    <section>
      <div class="hero">
        <h1>FIND THE JOB THAT FITS YOUR LIFE</h1>
        <h4>We offer thousands of jobs vacancies right now</h4>
        <div class="search-job">
          <input type="text" name="" id="job-title" placeholder="Job Title" />
          <input type="text" name="" id="location" placeholder="Location" />
          <button class="search-btn">SEARCH</button>
        </div>
      </div>
    </section>
    <div style="width: 95%; margin: auto">
      <section style="padding: 40px 20px">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
          "
        >
          <h1>Hiring now</h1>
          <div style="display: flex; gap: 20px; align-items: center">
            <!-- <select name="" class="custom-select" placeholder="Location" id="">
              <option value="">Location</option>
              <option value=""></option>
            </select> -->
            <input
              type="text"
              name=""
              onchange="Locationchange(event)"
              onkeyup="HandlelocationchangeKeyUp(event)"
              placeholder="location"
              style="
                padding: 13px 20px;
                border-radius: 5px;
                border: 1px solid #808080;
                font-size: 16px;
              "
              id=""
            />
            <select
              name=""
              onchange="typechange(event)"
              class="custom-select"
              placeholder="Location"
              id=""
            >
              <option value="">Type</option>
              <option value="Part Time">Part Time</option>
              <option value="Full Time">Full Time</option>
            </select>
          </div>
        </div>
        <div class="job-detail">
          <button id="show-less" class="show-detail"><</button>
          <div
            style="
              overflow-y: scroll;
              height: calc(100vh - 90px) !important;
              padding: 80px 20px 20px 20px;
            "
          >
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
              class="profile-img-card"
            >
              <div style="display: flex; align-items: center; gap: 20px">
                <div>
                  <img
                    src="https://images-eds-ssl.xboxlive.com/image?url=Q_rwcVSTCIytJ0KOzcjWTYl.n38D8jlKWXJx7NRJmQKBAEDCgtTAQ0JS02UoaiwRCHTTX1RAopljdoYpOaNfVf5nBNvbwGfyR5n4DAs0DsOwxSO9puiT_GgKqinHT8HsW8VYeiiuU1IG3jY69EhnsQ--&format=source"
                    alt=""
                    style="width: 60px; height: auto"
                  />
                </div>
                <div style="display: flex; flex-direction: column; gap: 3px">
                  <h4>Disacord</h4>
                  <p>IT Company</p>
                  <p>Pokhara</p>
                </div>
              </div>
              <button class="btn">Apply</button>
            </div>
            <br />
            <div style="display: flex; gap: 20px">
              <div>
                <h5>Posted date</h5>
                <p>2022-07-06</p>
              </div>
              <div>
                <h5>Due date</h5>
                <p>2022-07-10</p>
              </div>
            </div>
            <br />
            <h3>Requiring C# Developer</h3>
            <br />
            <p>
              I have 40 products that I would like the thumbnails updated for in
              my Teachers Pay Teachers store. You would be added as a team
              member of my store on TPT, and need to review the product, and
              then create a cover image and three thumbnails for the product. I
              have a bunch of clipart I can also share with you that you are
              free to use. I would like the thumbnails to match the color scheme
              in my current logo and banner. Otherwise, I'm open to your design
              vision and seeing what you can come up with. A sample of what I'm
              looking for is linked here. Note that it features screenshots of
              the actual product layered in the background, a main clipart image
              on the left, and text along the top. The second and third
              thumbnails are more screenshots of layered pages, and the third
              screenshot is one sample page full-size.
              https://www.teacherspayteachers.com/Product/Spring-Math-and-Literacy-Packet-NO-PREP-Kindergarten-1128712?st=f2146886df69e7d407c355d486fb2099
              I've attached a sample thumbnail I created that I like; however,
              the picture came out grainy as I was copying it from a Google
              Slide, and the font ends up being hard to read on the TPT listing.
            </p>
            <br />
            <h4>Industry</h4>
            <div
              style="
                display: flex;
                gap: 10px;
                margin-top: 10px;
                flex-direction: column;
              "
            >
              <p>IT industry</p>
            </div>
            <br />
            <h4>Skills</h4>
            <div
              style="
                display: flex;
                gap: 10px;
                margin-top: 10px;
                font-size: large;
              "
            >
              <div class="tag">C#</div>
              <div class="tag">.NET</div>
            </div>
            <br />
            <h4>Requirements</h4>
            <div
              style="
                display: flex;
                gap: 10px;
                margin-top: 10px;
                flex-direction: column;
              "
            >
              <p>1-2 years of sales experience.</p>
              <p>
                A background in management, with a minimum of 2 years in a
                management role.
              </p>
              <p>Proven success as a developer.</p>
              <p>Experience directing projects and delegating tasks.</p>
            </div>
          </div>
        </div>
        <div id="job-list"></div>
      </section>
      <!-- <section style="padding: 0 20px">
        <h1>Trending jobs</h1>
        <div style="padding: 20px 0">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              border-bottom: 1px solid #e0e0e0;
              padding: 20px 0;
            "
          >
            <div
              style="
                display: flex;
                gap: 10px;
                align-items: center;
                padding: 0 20px;
              "
            >
              <img
                src="https://photos.wellfound.com/startups/i/90183-bed46f22aafe8af7dc65cdd73fff2f76-medium_jpg.jpg?buster=1620918177"
                alt=""
                style="width: 50px; border-radius: 5px"
              />
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  gap: 10px;
                  padding: 0 20px;
                "
              >
                <h4>Discord</h4>
                <p>501-1000 employees</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px">
              <button class="outline-btn">Apply</button>
            </div>
          </div>
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              border-bottom: 1px solid #e0e0e0;
              padding: 20px 0;
            "
          >
            <div
              style="
                display: flex;
                gap: 10px;
                align-items: center;
                padding: 0 20px;
              "
            >
              <img
                src="https://photos.wellfound.com/startups/i/90183-bed46f22aafe8af7dc65cdd73fff2f76-medium_jpg.jpg?buster=1620918177"
                alt=""
                style="width: 50px; border-radius: 5px"
              />
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  gap: 10px;
                  padding: 0 20px;
                "
              >
                <h4>Discord</h4>
                <p>501-1000 employees</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px">
              <button class="outline-btn">Apply</button>
            </div>
          </div>
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              border-bottom: 1px solid #e0e0e0;
              padding: 20px 0;
            "
          >
            <div
              style="
                display: flex;
                gap: 10px;
                align-items: center;
                padding: 0 20px;
              "
            >
              <img
                src="https://photos.wellfound.com/startups/i/90183-bed46f22aafe8af7dc65cdd73fff2f76-medium_jpg.jpg?buster=1620918177"
                alt=""
                style="width: 50px; border-radius: 5px"
              />
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  gap: 10px;
                  padding: 0 20px;
                "
              >
                <h4>Discord</h4>
                <p>501-1000 employees</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px">
              <button class="outline-btn">Apply</button>
            </div>
          </div>
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              border-bottom: 1px solid #e0e0e0;
              padding: 20px 0;
            "
          >
            <div
              style="
                display: flex;
                gap: 10px;
                align-items: center;
                padding: 0 20px;
              "
            >
              <img
                src="https://photos.wellfound.com/startups/i/90183-bed46f22aafe8af7dc65cdd73fff2f76-medium_jpg.jpg?buster=1620918177"
                alt=""
                style="width: 50px; border-radius: 5px"
              />
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  gap: 10px;
                  padding: 0 20px;
                "
              >
                <h4>Discord</h4>
                <p>501-1000 employees</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px">
              <button class="outline-btn">Apply</button>
            </div>
          </div>
        </div>
      </section> -->
      <section class="get-start">
        <img src="https://wellfound.com/images/jobs/gkutg%201.png" alt="" />
        <div class="get-start-dec">
          <h1>Get started today</h1>
          <h4>
            To apply to jobs with one-click and connect with founders and
            recruiters searching for your skills.
          </h4>
          <a href="./Profile.html" class="btn">Create your profile</a>
        </div>
      </section>
    </div>
    <footer>
      <img
        class="logo"
        src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRUsQiplH_OWtHnMb1Nrk31z58OJN009JG-w&usqp=CAU"
        alt="logo"
      />
      <h1>Job Portal<span style="color: blue">:</span></h1>
      <p>We offer thousands of jobs vacancies right now</p>
      <p style="font-size: 14px">
        Copyright © 2023 job portal. All rights reserved.
      </p>
    </footer>
    <script>
      const jobCard = document.getElementsByClassName("job-card");
      const jobDetail = document.getElementsByClassName("job-detail");
      const showLess = document.getElementById("show-less");

      let isDetailOpen = false;
      showLess.addEventListener("click", () => {
        isDetailOpen = false;
        jobDetail[0].style.width = isDetailOpen ? "50%" : 0;
        showLess.style.display = "none";
      });
      for (let i = 0; i < jobCard.length; i++) {
        jobCard[i].addEventListener("click", () => {
          console.log(jobDetail);
          isDetailOpen = !isDetailOpen;
          jobDetail[0].style.width = isDetailOpen ? "50%" : 0;
          showLess.style.display = "flex";
        });
      }
      if (isDetailOpen) {
        showLess.style.display = "flex";
      } else {
        showLess.style.display = "none";
      }

      const getData = async (e) => {
        console.log(e);
        try {
          const response = await fetch(
            `http://localhost:9000/JobsFilter?Location=${
              e?.Location ?? ""
            }&Job_type=${e?.Job_type ?? ""}`,
            {
              method: "GET",
              // body: e,
              mode: "cors",
              cache: "no-cache",
              credentials: "same-origin",
              headers: {
                "Content-Type": "application/json",
              },
              redirect: "follow",
              referrerPolicy: "no-referrer",
            }
          );

          const data = await response.json();
          console.log(data);
          if (data) {
            const jobList = document.getElementById("job-list");
            console.log(jobList);
            jobList.innerHTML = "";
            data?.map((item, index) => {
              jobList.innerHTML += `  <div class="job-card">
          <div
            style="
              display: flex;
              gap: 10px;
              align-items: center;
              padding: 0 20px;
            "
          >
            <img
              src=${item?.Company_logo}
              alt=""
              style="width: 50px; border-radius: 5px;  flex-shrink: 0 !important;
                    height: 60px;
                    object-fit: contain;"
            />
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 10px;
                padding: 0 20px;
              "
            >
              <h4>${item?.Company_name}</h4>
              <p>${item?.Industry}</p>
            </div>
          </div>
          <h1  style="padding: 0 20px">${item?.Job_title}</h1>
          <p style="padding: 0 20px">
            ${item?.Job_decs}
          </p>
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 10px;
              padding: 0 20px;
            "
          >
          <div style="display: flex; gap: 10px;">Location: <span class="tag">${
            item?.Main_address
          }</span></div>
            <div style="display: flex; gap: 10px;">Job Tab: <span class="tag">${
              item?.Job_type
            }</span></div>
            <div>Post date: ${item?.Post_date?.split("T")[0]}</div>
          </div>
          <div class="job-card-review">
            <span>40 Open Position</span>
            <i class="fa-solid fa-chevron-right"></i>
          </div>
        </div>`;
              return;
            });
          }
        } catch (err) {
          // alert("An error occurred:", error);
        }
      };
      let locationtext;
      const Locationchange = (e) => {
        locationtext = e.target.value;
      };
      function HandlelocationchangeKeyUp(event) {
        event = event || window.event;
        if (event.keyCode === 13) {
          getData({
            Location: locationtext,
          });
          // Add any desired actions to be taken when Enter is pressed
        }
      }
      const typechange = (e) => {
        getData({
          Job_type: e.target.value,
        });
      };
    </script>
    <script></script>
    <script src="../script/nav.js"></script>
  </body>
</html>
